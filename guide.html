<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>教程 | Vue Router Tab</title>
    <meta name="description" content="基于 Vue Router 的路由页签组件">
    
    
    <link rel="preload" href="/vue-router-tab/assets/css/0.styles.958b0a52.css" as="style"><link rel="preload" href="/vue-router-tab/assets/js/app.c3e0cd95.js" as="script"><link rel="preload" href="/vue-router-tab/assets/js/2.6e116356.js" as="script"><link rel="preload" href="/vue-router-tab/assets/js/10.62e20a64.js" as="script"><link rel="preload" href="/vue-router-tab/assets/js/3.04df3504.js" as="script"><link rel="preload" href="/vue-router-tab/assets/js/7.16272338.js" as="script"><link rel="preload" href="/vue-router-tab/assets/js/4.ce4f2856.js" as="script"><link rel="prefetch" href="/vue-router-tab/assets/js/11.81e95644.js"><link rel="prefetch" href="/vue-router-tab/assets/js/5.29ab201e.js"><link rel="prefetch" href="/vue-router-tab/assets/js/6.58b27e7f.js"><link rel="prefetch" href="/vue-router-tab/assets/js/8.f5036b71.js"><link rel="prefetch" href="/vue-router-tab/assets/js/9.fe743c2e.js">
    <link rel="stylesheet" href="/vue-router-tab/assets/css/0.styles.958b0a52.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-router-tab/" class="home-link router-link-active"><!----> <span class="site-name">Vue Router Tab</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vue-router-tab/guide.html" class="nav-link router-link-exact-active router-link-active">教程</a></div><div class="nav-item"><a href="/vue-router-tab/api.html" class="nav-link">API</a></div><div class="nav-item"><a href="https://bhuh12.github.io/vue-router-tab/demo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://bhuh.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/bhuh12/vue-router-tab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vue-router-tab/guide.html" class="nav-link router-link-exact-active router-link-active">教程</a></div><div class="nav-item"><a href="/vue-router-tab/api.html" class="nav-link">API</a></div><div class="nav-item"><a href="https://bhuh12.github.io/vue-router-tab/demo/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Demo
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://bhuh.net" target="_blank" rel="noopener noreferrer" class="nav-link external">
  主页
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/bhuh12/vue-router-tab" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>教程</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/vue-router-tab/guide.html#安装" class="sidebar-link">安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#npm" class="sidebar-link">npm</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#yarn-推荐" class="sidebar-link">yarn (推荐)</a></li></ul></li><li><a href="/vue-router-tab/guide.html#基础" class="sidebar-link">基础</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#引入组件" class="sidebar-link">引入组件</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#应用组件" class="sidebar-link">应用组件</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#路由配置" class="sidebar-link">路由配置</a></li></ul></li><li><a href="/vue-router-tab/guide.html#页签操作" class="sidebar-link">页签操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#打开-切换页签" class="sidebar-link">打开/切换页签</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#关闭页签" class="sidebar-link">关闭页签</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#刷新页签" class="sidebar-link">刷新页签</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#刷新所有页签" class="sidebar-link">刷新所有页签</a></li></ul></li><li><a href="/vue-router-tab/guide.html#页签规则" class="sidebar-link">页签规则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#默认页签规则" class="sidebar-link">默认页签规则</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#全局页签规则" class="sidebar-link">全局页签规则</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#路由页签规则" class="sidebar-link">路由页签规则</a></li></ul></li><li><a href="/vue-router-tab/guide.html#进阶" class="sidebar-link">进阶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#过渡效果" class="sidebar-link">过渡效果</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#自定义页签模板" class="sidebar-link">自定义页签模板</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#初始展示页签" class="sidebar-link">初始展示页签</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#动态更新页签" class="sidebar-link">动态更新页签</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#语言配置" class="sidebar-link">语言配置</a></li><li class="sidebar-sub-header"><a href="/vue-router-tab/guide.html#页面离开确认" class="sidebar-link">页面离开确认</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="content default"><h1 id="教程"><a href="#教程" aria-hidden="true" class="header-anchor">#</a> 教程</h1> <h2 id="安装"><a href="#安装" aria-hidden="true" class="header-anchor">#</a> 安装</h2> <h3 id="npm"><a href="#npm" aria-hidden="true" class="header-anchor">#</a> npm</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i vue-router-tab -S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="yarn-推荐"><a href="#yarn-推荐" aria-hidden="true" class="header-anchor">#</a> yarn (推荐)</h3> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yarn add vue-router-tab
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="基础"><a href="#基础" aria-hidden="true" class="header-anchor">#</a> 基础</h2> <h3 id="引入组件"><a href="#引入组件" aria-hidden="true" class="header-anchor">#</a> 引入组件</h3> <p><strong>示例：</strong></p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">// @/main.js</span>

<span class="token comment">// router-tab 组件依赖 vue 和 vue-router</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 引入组件和样式</span>
<span class="token keyword">import</span> RouterTab <span class="token keyword">from</span> <span class="token string">'vue-router-tab'</span>
<span class="token keyword">import</span> <span class="token string">'vue-router-tab/dist/lib/vue-router-tab.css'</span>

<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>
<span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span>

Vue<span class="token punctuation">.</span>config<span class="token punctuation">.</span>productionTip <span class="token operator">=</span> <span class="token boolean">false</span>
Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>RouterTab<span class="token punctuation">)</span>

<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  router<span class="token punctuation">,</span>
  render<span class="token punctuation">:</span> <span class="token punctuation">(</span>h<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">$mount</span><span class="token punctuation">(</span><span class="token string">'#app'</span><span class="token punctuation">)</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="应用组件"><a href="#应用组件" aria-hidden="true" class="header-anchor">#</a> 应用组件</h3> <p>配置参考: <a href="/vue-router-tab/api.html#routertab-props">RouterTab Props</a></p> <div class="danger custom-block"><p class="custom-block-title">DANGER</p> <p><code>RouterTab</code> 仅支持单例模式，请勿在同一个页面中引入多个 <code>RouterTab</code> 组件！</p></div> <p><strong>示例：</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-html"><code><span class="token comment">&lt;!-- @/components/layout/Admin.vue --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-header<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>头部<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-body<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app-side<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>侧边栏<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span><span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="路由配置"><a href="#路由配置" aria-hidden="true" class="header-anchor">#</a> 路由配置</h3> <p>通过路由的 <code>meta</code> 信息，来设置页签的<strong>标题</strong>、<strong>图标</strong>、<strong>提示</strong>和页签<strong>缓存规则</strong></p> <p>配置参考: <a href="/vue-router-tab/api.html#route-meta-路由元">Route.meta 路由元</a></p> <p><strong>示例：</strong></p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">// @/router.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 引入布局和页面</span>
<span class="token keyword">import</span> Admin <span class="token keyword">from</span> <span class="token string">'./components/layout/Admin.vue'</span>

<span class="token comment">// 异步页面组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">importPage</span> <span class="token operator">=</span> view <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;p-[request]&quot; */</span> <span class="token template-string"><span class="token string">`./views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>view<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.vue`</span></span><span class="token punctuation">)</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    redirect<span class="token punctuation">:</span> <span class="token string">'/page1'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> Admin<span class="token punctuation">,</span>
    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/page1'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> <span class="token function">importPage</span><span class="token punctuation">(</span><span class="token string">'Page1'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'页面1'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'icon-doc'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/page2/:id'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> <span class="token function">importPage</span><span class="token punctuation">(</span><span class="token string">'Page2'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'页面2'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'icon-user'</span><span class="token punctuation">,</span>
        tips<span class="token punctuation">:</span> <span class="token string">'这是页面2'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'/404'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> <span class="token function">importPage</span><span class="token punctuation">(</span><span class="token string">'404'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'找不到页面'</span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'icon-page'</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'*'</span><span class="token punctuation">,</span>
      redirect<span class="token punctuation">:</span> <span class="token string">'/404'</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><h2 id="页签操作"><a href="#页签操作" aria-hidden="true" class="header-anchor">#</a> 页签操作</h2> <h3 id="打开-切换页签"><a href="#打开-切换页签" aria-hidden="true" class="header-anchor">#</a> 打开/切换页签</h3> <p><code>RouterTab</code> 通过响应路由变化来新增或切换页签，直接使用 <code>vue-router</code> 提供的方法即可。</p> <p>参考文档：<a href="https://router.vuejs.org/zh/guide/essentials/navigation.html" target="_blank" rel="noopener noreferrer">Vue Router 导航<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="doc-links" data-v-07a03acb><!----> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/default/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <ol><li><strong><code>router-link</code> 组件方式</strong></li></ol> <p>打开和切换到页签</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>/page/1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>页面1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>全新打开页签 (<strong>刷新已有页签</strong>)</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code>&lt;router-link to=&quot;/page/2&quot;click.native=&quot;$routerTab.refresh('/page/2')&quot;&gt;页面2”<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-link</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li><strong>通过 <code>router.push</code>、<code>router.replace</code>、<code>router.go</code></strong></li></ol> <p>注意：在 Vue 实例内部，您可以通过 $router 访问路由实例。因此您可以调用 this.$router.push。</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 如果需要全新打开请加上：</span>
<span class="token comment">// this.$routerTab.refresh('/page/1')</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'/page/1'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="关闭页签"><a href="#关闭页签" aria-hidden="true" class="header-anchor">#</a> 关闭页签</h3> <p>您可以通过 <code>RouterTab</code> 的实例方法 <a href="/vue-router-tab/api.html#routertab-close"><code>routerTab.close(location, fullMatch?)</code></a> 来关闭页签</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>在 Vue 实例内部，您可以通过 <code>$routerTab</code> 访问路由页签实例。因此您可以调用 <code>this.$routerTab.close</code>。</p></div> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#routertab-close" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/default/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>关闭当前页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>关闭指定页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 关闭指定 fullPath 的页签</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token string">'/page/1'</span><span class="token punctuation">)</span>

<span class="token comment">// 关闭指定 location 的页签</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'page'</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>模糊关闭页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 关闭与给定地址共用页签的地址，即使地址不完全匹配</span>
<span class="token comment">// 默认 `alive-id` 规则下，类似 '/page/1?query=2' 这样的页签也能被匹配关闭</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token string">'/page/1'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="刷新页签"><a href="#刷新页签" aria-hidden="true" class="header-anchor">#</a> 刷新页签</h3> <p>您可以通过 <code>RouterTab</code> 的实例方法 <a href="/vue-router-tab/api.html#routertab-refresh"><code>routerTab.refresh(location, fullMatch?)</code></a> 来刷新页签</p> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#routertab-refresh" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/default/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>刷新当前页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>刷新指定页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 刷新指定 fullPath 的页签</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token string">'/page/1'</span><span class="token punctuation">)</span>

<span class="token comment">// 刷新指定 location 的页签</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'page'</span><span class="token punctuation">,</span>
  params<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token number">2</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>模糊刷新页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 刷新与给定地址共用页签的地址，即使地址不完全匹配</span>
<span class="token comment">// 默认 `alive-id` 规则下，类似 '/page/1?query=2' 这样的页签也能被匹配刷新</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token string">'/page/1'</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="刷新所有页签"><a href="#刷新所有页签" aria-hidden="true" class="header-anchor">#</a> 刷新所有页签</h3> <p>您可以通过 <code>RouterTab</code> 的实例方法 <a href="/vue-router-tab/api.html#routertab-refreshall"><code>routerTab.refreshAll(force?)</code></a> 来刷新所有页签</p> <p><strong>刷新所有页签</strong></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">refreshAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>强制刷新所有页签</strong>，忽略页面组件的 <code>beforePageLeave</code> 配置</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">this</span><span class="token punctuation">.</span>$routerTab<span class="token punctuation">.</span><span class="token function">refreshAll</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="页签规则"><a href="#页签规则" aria-hidden="true" class="header-anchor">#</a> 页签规则</h2> <p>不同的页签维护着各自的页面缓存，而<strong>页签规则</strong>定义了不同的路由<strong>打开页签的方式</strong>。</p> <h3 id="默认页签规则"><a href="#默认页签规则" aria-hidden="true" class="header-anchor">#</a> 默认页签规则</h3> <p><code>RouterTab</code> 默认取页面路由的 <code>$route.path</code> 作为缓存的 <code>alive-id</code>。</p> <p>这意味着，<code>$route.path</code> 相同的页面在同一个页签打开，新打开的页面会替换旧的页面，而 <code>$route.path</code> 不同的页面则打开独立的页签。</p> <div class="tip custom-block"><p class="custom-block-title">规则说明：</p> <ul><li><p>同一路由、不同 <code>$route.params</code> 的页面，各自打开独立的页签，单独缓存</p></li> <li><p>同一路由、相同 <code>$route.params</code> 、不同 <code>$route.query</code> 的页面，共用同一个页签，后打开的页面将会替换之前页签内的页面，并且旧的页面缓存也被清除</p></li> <li><p>仅仅 <code>$route.hash</code> 不同的页面，共用同一页签和缓存</p></li></ul></div> <p>例如：下面表格的前三个地址的 <code>$route.path</code> 都是 <strong>/page/1</strong>，它们打开同一个页签。后三个地址的 <code>$route.path</code> 都是 <strong>/page/2</strong>，它们打开时共用另一个页签。</p> <table><thead><tr><th>地址</th> <th><code>$route.path</code></th></tr></thead> <tbody><tr><td>/page/1</td> <td>/page/1</td></tr> <tr><td>/page/1?query=2</td> <td>/page/1</td></tr> <tr><td>/page/1#hash1</td> <td>/page/1</td></tr> <tr><td>/page/2</td> <td>/page/2</td></tr> <tr><td>/page/2?query=2</td> <td>/page/2</td></tr> <tr><td>/page/2#hash1</td> <td>/page/2</td></tr></tbody></table> <h3 id="全局页签规则"><a href="#全局页签规则" aria-hidden="true" class="header-anchor">#</a> 全局页签规则</h3> <p>通过配置 <code>router-tab</code> 组件的 <code>alive-id</code> 属性，您可以定义全局的页签规则</p> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#alive-id" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/global-rule/rule/a/1" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">:alive-id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>route =&gt; route.fullPath.replace(route.hash, <span class="token punctuation">'</span><span class="token punctuation">'</span>)<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>例子中，配置 <code>alive-id</code> 为 <code>fullPath</code> 去除 <code>hash</code> 部分。这样，“page/1” 和 “page/1?query=2”、“page/2”、“page/2?query=2” 这四个地址都是打开不同的页签。而 “page/1” 和 “page/1#hash1” 是同一个页签，因为它们忽略 <code>hash</code> 后的路径一致。</p> <h3 id="路由页签规则"><a href="#路由页签规则" aria-hidden="true" class="header-anchor">#</a> 路由页签规则</h3> <p>通过配置<strong>路由</strong>的 <code>meta.aliveId</code> 属性，您可以针对特定路由定制页签规则</p> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#meta-aliveid" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/default/route-rule/a/1" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token comment">// @/router.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token keyword">import</span> Router <span class="token keyword">from</span> <span class="token string">'vue-router'</span>

<span class="token comment">// 引入布局和页面</span>
<span class="token keyword">import</span> Admin <span class="token keyword">from</span> <span class="token string">'./components/layout/Admin.vue'</span>

<span class="token comment">// 异步页面组件</span>
<span class="token keyword">const</span> <span class="token function-variable function">importPage</span> <span class="token operator">=</span> view <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackChunkName: &quot;p-[request]&quot; */</span> <span class="token template-string"><span class="token string">`./views/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>view<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.vue`</span></span><span class="token punctuation">)</span>

Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Router<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Router</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
    redirect<span class="token punctuation">:</span> <span class="token string">'/route-rule/1/1'</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> Admin<span class="token punctuation">,</span>
    children<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> <span class="token string">'route-rule/:catalog/:type'</span><span class="token punctuation">,</span>
      component<span class="token punctuation">:</span> <span class="token function">importPage</span><span class="token punctuation">(</span><span class="token string">'CustomRule'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token string">'定制规则'</span><span class="token punctuation">,</span>
        <span class="token function">aliveId</span> <span class="token punctuation">(</span>route<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`route-rule/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>catalog<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h2 id="进阶"><a href="#进阶" aria-hidden="true" class="header-anchor">#</a> 进阶</h2> <p>前面的内容已经能满足大部分使用场景了，您还可以根据下面的内容实现更多功能。</p> <h3 id="过渡效果"><a href="#过渡效果" aria-hidden="true" class="header-anchor">#</a> 过渡效果</h3> <p>您可以通过配置 <code>router-tab</code> 组件的 <code>tab-transition</code> 和 <code>page-transition</code> 属性，分别替换默认的<strong>页签</strong>和<strong>页面</strong>过渡效果</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <ul><li><p>如果是组件作用域内的 CSS(配置了 <code>scoped</code>)，需要在选择器前添加 <code>/deep/</code>才能生效</p></li> <li><p>页签项 <code>.router-tab-item</code> 默认设置了 <code>transition</code> 和 <code>transform-origin</code> 的样式，您可能需要覆盖它已避免影响到自定义的过渡效果</p></li></ul></div> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#tab-transition" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/transition/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>页签过渡效果-示例：</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">tab-transition</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-scale<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">/deep/ .tab-scale</span> <span class="token punctuation">{</span>
  <span class="token selector">&amp;-enter-active,
  &amp;-leave-active</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> opacity .5s, transform .5s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">&amp;-enter,
  &amp;-leave-to</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">scale</span><span class="token punctuation">(</span>1.5<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#page-transition" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/transition/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>页面过渡效果-示例：</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">page-transition</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>page-fade<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>scss<span class="token punctuation">&quot;</span></span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style language-css">
<span class="token selector">/deep/ .page-fade</span> <span class="token punctuation">{</span>
  <span class="token selector">&amp;-enter-active,
  &amp;-leave-active</span> <span class="token punctuation">{</span>
    <span class="token property">transition</span><span class="token punctuation">:</span> opacity .5s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">&amp;-enter,
  &amp;-leave-to</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h4 id="详细配置"><a href="#详细配置" aria-hidden="true" class="header-anchor">#</a> 详细配置</h4> <p>您还可以使用对象的方式设置 <code>tab-transition</code> 和 <code>page-transition</code> 的值，以实现详细的过渡效果配置</p> <p>配置参考: <a href="https://cn.vuejs.org/v2/api/#transition" target="_blank" rel="noopener noreferrer">Vue - transition<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">:tab-transition</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{
  name: <span class="token punctuation">'</span>my-transition<span class="token punctuation">'</span>,
  <span class="token punctuation">'</span>enter-class<span class="token punctuation">'</span>: <span class="token punctuation">'</span>my-transition-enter<span class="token punctuation">'</span>
}<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="自定义页签模板"><a href="#自定义页签模板" aria-hidden="true" class="header-anchor">#</a> 自定义页签模板</h3> <p>通过 <code>router-tab</code> 组件的默认作用域插槽，我们可以自定义页签显示的内容</p> <p>插槽的作用域提供以下属性供模板使用：</p> <ul><li><strong>tab</strong> {Object} 页签项信息，包括 <code>id</code>, <code>title</code>, <code>icon</code>, <code>closable</code> 等</li> <li><strong>tabs</strong> {Array} 页签列表</li> <li><strong>index</strong> {Number} 索引</li></ul> <div class="doc-links" data-v-07a03acb><!----> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/slot/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-html line-numbers-mode"><div class="highlight-lines"><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">v-slot</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>{ tab: { id, title, icon, closable }, tabs, index}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-icon<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{title || '未命名页签'}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-badge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{index}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tab-close el-icon-close<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>closable !== false &amp;&amp;tabs.length &gt; 1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">@click.prevent</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>$routerTab.close(id)<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>router-tab</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="初始展示页签"><a href="#初始展示页签" aria-hidden="true" class="header-anchor">#</a> 初始展示页签</h3> <p>通过配置 <code>router-tab</code> 组件的 <code>tabs</code> 属性，可以设置进入页面时默认显示的页签。</p> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#tabs" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/initial-tabs/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">:tabs</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>tabs<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">// 默认页签项</span>
      tabs<span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token comment">// 推荐 fullPath 方式配置默认页签项。RouterTab 会自动获取路由里的页签配置</span>
        <span class="token string">'/page/1'</span><span class="token punctuation">,</span>

        <span class="token comment">// 设置初始 title，用于需要动态展示页签信息的路由页面</span>
        <span class="token punctuation">{</span> to<span class="token punctuation">:</span> <span class="token string">'/page/2'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'页面2'</span><span class="token punctuation">,</span> icon<span class="token punctuation">:</span> <span class="token string">'icon-page'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 设置 closable 为 false，可以禁止页签被关闭</span>
        <span class="token punctuation">{</span> to<span class="token punctuation">:</span> <span class="token string">'/page/3'</span><span class="token punctuation">,</span> closable<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>

        <span class="token comment">// 也可以 location 方式设置默认页签项</span>
        <span class="token punctuation">{</span>
          to<span class="token punctuation">:</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">:</span> <span class="token string">'page'</span><span class="token punctuation">,</span>
            params<span class="token punctuation">:</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token number">4</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
            query<span class="token punctuation">:</span> <span class="token punctuation">{</span> t<span class="token punctuation">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        
        <span class="token comment">// 此页面与'/page/2'的aliveId一致，将只保留先设置的页签</span>
        <span class="token punctuation">{</span> to<span class="token punctuation">:</span> <span class="token string">'/page/2?t=1'</span><span class="token punctuation">,</span> title<span class="token punctuation">:</span> <span class="token string">'页面2-1'</span> <span class="token punctuation">}</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="动态更新页签"><a href="#动态更新页签" aria-hidden="true" class="header-anchor">#</a> 动态更新页签</h3> <p><code>RouterTab</code> 会监听组件 <code>this.routeTab</code> 来动态更新页签信息。您可以通过设置 <code>this.routeTab</code> 来更改页签的标题、图标、提示。</p> <div class="doc-links" data-v-07a03acb><!----> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/default/tab-dynamic" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'page'</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> <span class="token punctuation">{</span> id <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params

      <span class="token comment">// 只更新页签标题</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>routeTab <span class="token operator">=</span> <span class="token template-string"><span class="token string">`页面</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">动态标题`</span></span>

      <span class="token comment">// 更新多个页签信息</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>routeTab <span class="token operator">=</span> <span class="token punctuation">{</span>
        title<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`页面</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">动态标题`</span></span><span class="token punctuation">,</span>
        icon<span class="token punctuation">:</span> <span class="token string">'el-icon-document'</span><span class="token punctuation">,</span>
        tips<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`页面</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">动态提示`</span></span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="语言配置"><a href="#语言配置" aria-hidden="true" class="header-anchor">#</a> 语言配置</h3> <p>通过配置 <code>router-tab</code> 组件的 <code>i18n</code> 属性，可以设置组件显示的语言 (主要表现为页签右键菜单)。</p> <p><code>RouterTab</code> 默认语言是 <code>zh-CN</code>，另外内置了 <code>en</code>。</p> <div class="doc-links" data-v-07a03acb><a href="/vue-router-tab/api.html#i18n" data-v-07a03acb>查看API</a> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/language/" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>指定组件显示为英文</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">i18n</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>自定义的语言</strong></p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-tab</span> <span class="token attr-name">:i18n</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>lang<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      lang<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        tab<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          untitled<span class="token punctuation">:</span> <span class="token string">'Untitled Page'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        contextmenu<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          refresh<span class="token punctuation">:</span> <span class="token string">'Refresh This'</span><span class="token punctuation">,</span>
          refreshAll<span class="token punctuation">:</span> <span class="token string">'Refresh All'</span><span class="token punctuation">,</span>
          close<span class="token punctuation">:</span> <span class="token string">'Close This'</span><span class="token punctuation">,</span>
          closeLefts<span class="token punctuation">:</span> <span class="token string">'Close to the Left'</span><span class="token punctuation">,</span>
          closeRights<span class="token punctuation">:</span> <span class="token string">'Close to the Right'</span><span class="token punctuation">,</span>
          closeOthers<span class="token punctuation">:</span> <span class="token string">'Close Others'</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        msg<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          keepOneTab<span class="token punctuation">:</span> <span class="token string">'Keep at least 1 tab'</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="页面离开确认"><a href="#页面离开确认" aria-hidden="true" class="header-anchor">#</a> 页面离开确认</h3> <p>当页签<strong>关闭</strong>、<strong>刷新</strong>或<strong>替换</strong>时会触发 <code>beforePageLeave</code>，通过 <code>Promise</code> 的 <code>resolve</code> 和 <code>reject</code> 来允许或者阻止页签页面的离开。</p> <div class="warning custom-block"><p class="custom-block-title">WARNING</p> <ul><li><p><code>beforePageLeave</code> 在组件的最外层，不是放在 <code>methods</code> 里</p></li> <li><p>如果还需要在浏览器页面关闭或刷新前阻止，请使用
<a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload" target="_blank" rel="noopener noreferrer"><code>onbeforeunload</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li></ul></div> <div class="doc-links" data-v-07a03acb><!----> <a href="https://bhuh12.github.io/vue-router-tab/demo/#/initial-tabs/page-leave" target="_blank" rel="noopener noreferrer" data-v-07a03acb>Demo演示 <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <p><strong>示例：</strong></p> <div class="language-javascript line-numbers-mode"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br></div><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 页面离开前确认</span>
  <span class="token function">beforePageLeave</span> <span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">,</span> tab<span class="token punctuation">,</span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 离开类型</span>
    <span class="token keyword">const</span> types <span class="token operator">=</span> <span class="token punctuation">{</span>
      close<span class="token punctuation">:</span> <span class="token string">'关闭'</span><span class="token punctuation">,</span>
      refresh<span class="token punctuation">:</span> <span class="token string">'刷新'</span><span class="token punctuation">,</span>
      replace<span class="token punctuation">:</span> <span class="token string">'替换'</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> action <span class="token operator">=</span> types<span class="token punctuation">[</span>type<span class="token punctuation">]</span>

    <span class="token keyword">const</span> msg <span class="token operator">=</span> <span class="token template-string"><span class="token string">`您确认要</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">页签“</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>tab<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">”吗？`</span></span>

    <span class="token comment">// 值未改变，则直接离开页签</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>editValue <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 值改变则确认提示</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">confirm</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'拒绝了页面离开'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/*
    // 此处使用了 Element 的 confirm 组件
    // 需将 closeOnHashChange 配置为 false，以避免路由切换导致确认框关闭
    this.$confirm(msg, '提示', { closeOnHashChange: false })
      .then(resolve)
      .catch(reject)
    */</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次更新: </span> <span class="time">3/12/2019, 10:40:46 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/vue-router-tab/assets/js/app.c3e0cd95.js" defer></script><script src="/vue-router-tab/assets/js/2.6e116356.js" defer></script><script src="/vue-router-tab/assets/js/10.62e20a64.js" defer></script><script src="/vue-router-tab/assets/js/3.04df3504.js" defer></script><script src="/vue-router-tab/assets/js/7.16272338.js" defer></script><script src="/vue-router-tab/assets/js/4.ce4f2856.js" defer></script>
  </body>
</html>
